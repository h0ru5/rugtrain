(function(f){f.timeago=function(i){if(i instanceof Date){return b(i)}else{if(typeof i==="string"){return b(f.timeago.parse(i))}else{if(typeof i==="number"){return b(new Date(i))}else{return b(f.timeago.datetime(i))}}}};var h=f.timeago;f.extend(f.timeago,{settings:{refreshMillis:60000,allowFuture:false,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(o){var p=this.settings.strings;var l=p.prefixAgo;var u=p.suffixAgo;if(this.settings.allowFuture){if(o<0){l=p.prefixFromNow;u=p.suffixFromNow}}var r=Math.abs(o)/1000;var i=r/60;var q=i/60;var s=q/24;var m=s/365;function k(v,x){var w=f.isFunction(v)?v(x,o):v;var y=(p.numbers&&p.numbers[x])||x;return w.replace(/%d/i,y)}var n=r<45&&k(p.seconds,Math.round(r))||r<90&&k(p.minute,1)||i<45&&k(p.minutes,Math.round(i))||i<90&&k(p.hour,1)||q<24&&k(p.hours,Math.round(q))||q<42&&k(p.day,1)||s<30&&k(p.days,Math.round(s))||s<45&&k(p.month,1)||s<365&&k(p.months,Math.round(s/30))||m<1.5&&k(p.year,1)||k(p.years,Math.round(m));var j=p.wordSeparator===undefined?" ":p.wordSeparator;return f.trim([l,n,u].join(j))},parse:function(j){var i=f.trim(j);i=i.replace(/\.\d+/,"");i=i.replace(/-/,"/").replace(/-/,"/");i=i.replace(/T/," ").replace(/Z/," UTC");i=i.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2");return new Date(i)},datetime:function(j){var i=h.isTime(j)?f(j).attr("datetime"):f(j).attr("title");return h.parse(i)},isTime:function(i){return f(i).get(0).tagName.toLowerCase()==="time"}});f.fn.timeago=function(){var j=this;j.each(e);var i=h.settings;if(i.refreshMillis>0){setInterval(function(){j.each(e)},i.refreshMillis)}return j};function e(){var i=c(this);if(!isNaN(i.datetime)){f(this).text(b(i.datetime))}return this}function c(i){i=f(i);if(!i.data("timeago")){i.data("timeago",{datetime:h.datetime(i)});var j=f.trim(i.text());if(j.length>0&&!(h.isTime(i)&&i.attr("title"))){i.attr("title",j)}}return i.data("timeago")}function b(i){return h.inWords(g(i))}function g(i){return(new Date().getTime()-i.getTime())}document.createElement("abbr");document.createElement("time")}(jQuery));angular.module("ngLocale",[],["$provide",function(b){var c={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};b.value("$locale",{DATETIME_FORMATS:{MONTH:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],SHORTMONTH:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],DAY:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],SHORTDAY:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],AMPMS:["vorm.","nachm."],medium:"dd.MM.yyyy HH:mm:ss","short":"dd.MM.yy HH:mm",fullDate:"EEEE, d. MMMM y",longDate:"d. MMMM y",mediumDate:"dd.MM.yyyy",shortDate:"dd.MM.yy",mediumTime:"HH:mm:ss",shortTime:"HH:mm"},NUMBER_FORMATS:{DECIMAL_SEP:",",GROUP_SEP:".",PATTERNS:[{minInt:1,minFrac:0,macFrac:0,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3,maxFrac:3},{minInt:1,minFrac:2,macFrac:0,posPre:"",posSuf:" \u00A4",negPre:"-",negSuf:" \u00A4",gSize:3,lgSize:3,maxFrac:2}],CURRENCY_SYM:"€"},pluralCat:function(e){if(e==1){return c.ONE}return c.OTHER},id:"de"})}]);angular.module("ui.config",[]).value("ui.config",{}),angular.module("ui.filters",["ui.config"]),angular.module("ui.directives",["ui.config"]),angular.module("ui",["ui.filters","ui.directives","ui.config"]),angular.module("ui.directives").directive("uiSortable",["ui.config",function(c){var b;return b={},c.sortable!=null&&angular.extend(b,c.sortable),{require:"?ngModel",link:function(m,j,g,k){var v,h,q,p,l;return q=angular.extend({},b,m.$eval(g.uiOptions)),k!=null&&(v=function(i,f){return f.item.data("ui-sortable-start",f.item.index())},h=function(e,o){var i,f;return f=o.item.data("ui-sortable-start"),i=o.item.index(),k.$modelValue.splice(i,0,k.$modelValue.splice(f,1)[0]),m.$apply()},p=q.start,q.start=function(e,f){return v(e,f),typeof p=="function"&&p(e,f),m.$apply()},l=q.update,q.update=function(e,f){return h(e,f),typeof l=="function"&&l(e,f),m.$apply()}),j.sortable(q)}}}]),angular.module("ui.directives").directive("uiJq",["ui.config",function(b){return{restrict:"A",compile:function(c,f){if(!angular.isFunction(c[f.uiJq])){throw new Error('ui-jq: The "'+f.uiJq+'" function does not exist')}var e=b.jq&&b.jq[f.uiJq];return function(k,h,l){var g=[],j="change";l.uiOptions?(g=k.$eval("["+l.uiOptions+"]"),angular.isObject(e)&&angular.isObject(g[0])&&(g[0]=angular.extend(e,g[0]))):e&&(g=[e]),l.ngModel&&h.is("select,input,textarea")&&(g&&angular.isObject(g[0])&&g[0].ngChange!==undefined&&(j=g[0].ngChange),j&&h.on(j,function(){h.trigger("input")})),h[l.uiJq].apply(h,g)}}}}]),angular.module("ui.directives").directive("uiEvent",["$parse",function(b){return function(e,g,f){var c=e.$eval(f.uiEvent);angular.forEach(c,function(k,h){var j=b(k);g.bind(h,function(i){var l=Array.prototype.slice.call(arguments);l=l.splice(1),e.$apply(function(){j(e,{$event:i,$params:l})})})})}}]),angular.module("ui.directives").directive("uiMask",[function(){return{require:"ngModel",link:function(f,b,g,c){c.$render=function(){var e=c.$viewValue||"";b.val(e),b.mask(f.$eval(g.uiMask))},c.$parsers.push(function(h){var i=b.isMaskValid()||angular.isUndefined(b.isMaskValid())&&b.val().length>0;return c.$setValidity("mask",i),i?h:undefined}),b.bind("keyup",function(){f.$apply(function(){c.$setViewValue(b.mask())})})}}}]),angular.module("ui.directives").directive("uiModal",["$timeout",function(b){return{restrict:"EAC",require:"ngModel",link:function(e,g,f,c){g.addClass("modal hide"),g.on("shown",function(){g.find("[autofocus]").focus()}),e.$watch(f.ngModel,function(h){g.modal(h&&"show"||"hide")}),g.on(jQuery.support.transition&&"shown"||"show",function(){b(function(){c.$setViewValue(!0)})}),g.on(jQuery.support.transition&&"hidden"||"hide",function(){b(function(){c.$setViewValue(!1)})})}}}]),angular.module("ui.directives").directive("uiReset",["ui.config",function(c){var b=null;return c.reset!==undefined&&(b=c.reset),{require:"ngModel",link:function(j,k,h,f){var g;g=angular.element('<a class="ui-reset" />'),k.wrap('<span class="ui-resetwrap" />').after(g),g.bind("click",function(e){e.preventDefault(),j.$apply(function(){h.uiReset?f.$setViewValue(j.$eval(h.uiReset)):f.$setViewValue(b),f.$render()})})}}}]),function(){function b(i,g,j,h){angular.forEach(g.split(" "),function(k){var e={type:"map-"+k};google.maps.event.addListener(j,k,function(l){h.trigger(angular.extend({},e,l)),i.$$phase||i.$apply()})})}function f(g,e){c.directive(g,[function(){return{restrict:"A",link:function(k,h,j){k.$watch(j[g],function(i){b(k,e,i,h)})}}}])}var c=angular.module("ui.directives");c.directive("uiMap",["ui.config","$parse",function(j,k){var h="bounds_changed center_changed click dblclick drag dragend dragstart heading_changed idle maptypeid_changed mousemove mouseout mouseover projection_changed resize rightclick tilesloaded tilt_changed zoom_changed",g=j.map||{};return{restrict:"A",link:function(p,m,q){var l=angular.extend({},g,p.$eval(q.uiOptions)),i=new google.maps.Map(m[0],l),n=k(q.uiMap);n.assign(p,i),b(p,h,i,m)}}}]),c.directive("uiMapInfoWindow",["ui.config","$parse","$compile",function(k,l,j){var g="closeclick content_change domready position_changed zindex_changed",h=k.mapInfoWindow||{};return{link:function(q,r,n){var m=angular.extend({},h,q.$eval(n.uiOptions));m.content=r[0];var p=l(n.uiMapInfoWindow),i=p(q);i||(i=new google.maps.InfoWindow(m),p.assign(q,i)),b(q,g,i,r),r.replaceWith("<div></div>");var s=i.open;i.open=function(y,v,w,o,e,x){j(r.contents())(q),s.call(i,y,v,w,o,e,x)}}}}]),f("uiMapMarker","animation_changed click clickable_changed cursor_changed dblclick drag dragend draggable_changed dragstart flat_changed icon_changed mousedown mouseout mouseover mouseup position_changed rightclick shadow_changed shape_changed title_changed visible_changed zindex_changed"),f("uiMapPolyline","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),f("uiMapPolygon","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),f("uiMapRectangle","bounds_changed click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),f("uiMapCircle","center_changed click dblclick mousedown mousemove mouseout mouseover mouseup radius_changed rightclick"),f("uiMapGroundOverlay","click dblclick")}(),angular.module("ui.directives").factory("keypressHelper",["$parse",function(b){var e={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},c=function(f){return f.charAt(0).toUpperCase()+f.slice(1)};return function(k,h,j,l){var g,f=[];g=h.$eval(l["ui"+c(k)]),angular.forEach(g,function(p,q){var o,m;m=b(p),angular.forEach(q.split(" "),function(i){o={expression:m,keys:{}},angular.forEach(i.split("-"),function(n){o.keys[n]=!0}),f.push(o)})}),j.bind(k,function(m){var p=m.metaKey||m.altKey,n=m.ctrlKey,q=m.shiftKey,i=m.keyCode;k==="keypress"&&!q&&i>=97&&i<=122&&(i-=32),angular.forEach(f,function(w){var s=w.keys[e[m.keyCode]]||w.keys[m.keyCode.toString()]||!1,r=w.keys.alt||!1,v=w.keys.ctrl||!1,o=w.keys.shift||!1;s&&r==p&&v==n&&o==q&&h.$apply(function(){w.expression(h,{$event:m})})})})}}]),angular.module("ui.directives").directive("uiKeydown",["keypressHelper",function(b){return{link:function(c,f,e){b("keydown",c,f,e)}}}]),angular.module("ui.directives").directive("uiKeypress",["keypressHelper",function(b){return{link:function(c,f,e){b("keypress",c,f,e)}}}]),angular.module("ui.directives").directive("uiKeyup",["keypressHelper",function(b){return{link:function(c,f,e){b("keyup",c,f,e)}}}]),angular.module("ui.directives").directive("uiValidate",function(){return{restrict:"A",require:"ngModel",link:function(h,c,j,g){var b,f=j.uiValidate;f=h.$eval(f);if(!f){return}angular.isFunction(f)&&(f={validator:f}),angular.forEach(f,function(k,i){b=function(e){return k(e)?(g.$setValidity(i,!0),e):(g.$setValidity(i,!1),undefined)},g.$formatters.push(b),g.$parsers.push(b)})}}}),angular.module("ui.directives").directive("uiAnimate",["ui.config","$timeout",function(c,b){var f={};return angular.isString(c.animate)?f["class"]=c.animate:c.animate&&(f=c.animate),{restrict:"A",link:function(k,j,g){var h={};g.uiAnimate&&(h=k.$eval(g.uiAnimate),angular.isString(h)&&(h={"class":h})),h=angular.extend({"class":"ui-animate"},f,h),j.addClass(h["class"]),b(function(){j.removeClass(h["class"])},20,!1)}}}]),angular.module("ui.directives").directive("uiSelect2",["ui.config","$http",function(c,b){var f={};return c.select2&&angular.extend(f,c.select2),{require:"?ngModel",compile:function(m,j){var l,h,k,n=m.is("select"),g=j.multiple!==undefined;return m.is("select")&&(h=m.find("option[ng-repeat], option[data-ng-repeat]"),h.length&&(k=h.attr("ng-repeat")||h.attr("data-ng-repeat"),l=jQuery.trim(k.split("|")[0]).split(" ").pop())),function(v,q,p,r){var o=angular.extend({},f,v.$eval(p.uiSelect2));n?(delete o.multiple,delete o.initSelection):g&&(o.multiple=!0);if(r){r.$render=function(){n?q.select2("val",r.$modelValue):g&&!r.$modelValue?q.select2("data",[]):q.select2("data",r.$modelValue)},l&&v.$watch(l,function(s,w,i){if(!s){return}setTimeout(function(){q.select2("val",r.$viewValue),q.trigger("change")})});if(!n){q.bind("change",function(){v.$apply(function(){r.$setViewValue(q.select2("data"))})});if(o.initSelection){var u=o.initSelection;o.initSelection=function(s,i){u(s,function(w){r.$setViewValue(w),i(w)})}}}}p.$observe("disabled",function(i){q.select2(i&&"disable"||"enable")}),v.$watch(p.ngMultiple,function(i){q.select2(o)}),q.val(v.$eval(p.ngModel)),setTimeout(function(){q.select2(o)})}}}}]),angular.module("ui.directives").directive("uiCodemirror",["ui.config","$parse",function(c,b){return c.codemirror=c.codemirror||{},{require:"ngModel",link:function(p,k,h,j){if(!k.is("textarea")){throw new Error("ui-codemirror can only be applied to a textarea element")}var m,g=b(h.uiCodemirror),e=function(i){var f=i.getValue();f!==j.$viewValue&&(j.$setViewValue(f),p.$apply())},l=function(f){f=angular.extend({},f,c.codemirror);var i=f.onChange;i?f.onChange=function(n){e(n),i(n)}:f.onChange=e,m&&m.toTextArea(),m=CodeMirror.fromTextArea(k[0],f)};l(g()),p.$watch(g,l,!0),j.$formatters.push(function(f){if(angular.isUndefined(f)||f===null){return""}if(angular.isObject(f)||angular.isArray(f)){throw new Error("ui-codemirror cannot use an object or an array as a model")}return f}),j.$render=function(){m.setValue(j.$viewValue)}}}}]),angular.module("ui.directives").directive("uiTinymce",["ui.config",function(b){return b.tinymce=b.tinymce||{},{require:"ngModel",link:function(e,j,g,c){var f,h={onchange_callback:function(i){i.isDirty()&&(i.save(),c.$setViewValue(j.val()),e.$$phase||e.$apply())},handle_event_callback:function(i){return this.isDirty()&&(this.save(),c.$setViewValue(j.val()),e.$$phase||e.$apply()),!0},setup:function(i){i.onSetContent.add(function(l,k){l.isDirty()&&(l.save(),c.$setViewValue(j.val()),e.$$phase||e.$apply())})}};g.uiTinymce?f=e.$eval(g.uiTinymce):f={},angular.extend(h,b.tinymce,f),setTimeout(function(){j.tinymce(h)})}}}]),angular.module("ui.directives").directive("uiIf",[function(){return{transclude:"element",priority:1000,terminal:!0,restrict:"A",compile:function(c,b,f){return function(l,h,k){h[0].doNotMove=!0;var g=k.uiIf,j,m;l.$watch(g,function(e){j&&(j.remove(),j=null),m&&(m.$destroy(),m=null),e&&(m=l.$new(),f(m,function(i){j=i,h.after(i)})),h.parent().trigger("$childrenChanged")})}}}}]),angular.module("ui.directives").directive("uiScrollfix",["$window",function(b){return{link:function(e,g,f){var c=g.offset().top;f.uiScrollfix?f.uiScrollfix.charAt(0)==="-"?f.uiScrollfix=c-f.uiScrollfix.substr(1):f.uiScrollfix.charAt(0)==="+"&&(f.uiScrollfix=c+parseFloat(f.uiScrollfix.substr(1))):f.uiScrollfix=c,angular.element(b).on("scroll.ui-scrollfix",function(){var j;if(angular.isDefined(b.pageYOffset)){j=b.pageYOffset}else{var h=document.compatMode&&document.compatMode!=="BackCompat"?document.documentElement:document.body;j=h.scrollTop}!g.hasClass("ui-scrollfix")&&j>f.uiScrollfix?g.addClass("ui-scrollfix"):g.hasClass("ui-scrollfix")&&j<f.uiScrollfix&&g.removeClass("ui-scrollfix")})}}}]),angular.module("ui.directives").directive("uiCalendar",["ui.config","$parse",function(c,b){return c.uiCalendar=c.uiCalendar||{},{require:"ngModel",restrict:"A",scope:{events:"=ngModel"},link:function(j,g,e){function h(){var i,k={header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay"},eventMouseover:function(m,l,o){o.name!=="agendaDay"&&$(l.target).attr("title",m.title)},events:j.events};e.uiCalendar?i=j.$eval(e.uiCalendar):i={},angular.extend(k,c.uiCalendar,i),g.html("").fullCalendar(k)}var f=b(e.ngModel);h(),j.$watch("events.length",function(k,i){h()},!0)}}}]),angular.module("ui.directives").directive("uiShow",[function(){return function(c,b,f){c.$watch(f.uiShow,function(g,h){g?b.addClass("ui-show"):b.removeClass("ui-show")})}}]).directive("uiHide",[function(){return function(c,b,f){c.$watch(f.uiHide,function(g,h){g?b.addClass("ui-hide"):b.removeClass("ui-hide")})}}]).directive("uiToggle",[function(){return function(c,b,f){c.$watch(f.uiToggle,function(g,h){g?b.removeClass("ui-hide").addClass("ui-show"):b.removeClass("ui-show").addClass("ui-hide")})}}]),angular.module("ui.directives").directive("uiCurrency",["ui.config","currencyFilter",function(c,b){var f={pos:"ui-currency-pos",neg:"ui-currency-neg",zero:"ui-currency-zero"};return c.currency&&angular.extend(f,c.currency),{restrict:"EAC",require:"ngModel",link:function(m,l,j,k){var n,h,g;n=angular.extend({},f,m.$eval(j.uiCurrency)),h=function(i){var o;return o=i*1,o>0?l.addClass(n.pos):l.removeClass(n.pos),o<0?l.addClass(n.neg):l.removeClass(n.neg),o===0?l.addClass(n.zero):l.removeClass(n.zero),i===""?l.text(""):l.text(b(o,n.symbol)),!0},k.$render=function(){g=k.$viewValue,l.val(g),h(g)}}}}]),angular.module("ui.directives").directive("uiDate",["ui.config",function(c){var b;return b={},angular.isObject(c.date)&&angular.extend(b,c.date),{require:"?ngModel",link:function(f,k,h,e){var g=function(){return angular.extend({},c.date,f.$eval(h.uiDate))},j=function(){var l=g();if(e){var i=function(){f.$apply(function(){var n=k.datepicker("getDate");k.datepicker("setDate",k.val()),e.$setViewValue(n)})};if(l.onSelect){var m=l.onSelect;l.onSelect=function(o,n){return i(),m(o,n)}}else{l.onSelect=i}k.bind("change",i),e.$render=function(){var n=e.$viewValue;if(angular.isDefined(n)&&n!==null&&!angular.isDate(n)){throw new Error("ng-Model value must be a Date object - currently it is a "+typeof n+" - use ui-date-format to convert it from a string")}k.datepicker("setDate",n)}}k.datepicker("destroy"),k.datepicker(l),e.$render()};f.$watch(g,j,!0)}}}]).directive("uiDateFormat",[function(){var b={require:"ngModel",link:function(h,f,j,g){if(j.uiDateFormat===""){g.$formatters.push(function(i){if(angular.isString(i)){return new Date(i)}}),g.$parsers.push(function(i){if(i){return i.toISOString()}})}else{var c=j.uiDateFormat;g.$formatters.push(function(i){if(angular.isString(i)){return $.datepicker.parseDate(c,i)}}),g.$parsers.push(function(i){if(i){return $.datepicker.formatDate(c,i)}})}}};return b}]),angular.module("ui.filters").filter("highlight",function(){return function(c,b,f){return b||angular.isNumber(b)?(c=c.toString(),b=b.toString(),f?c.split(b).join('<span class="ui-match">'+b+"</span>"):c.replace(new RegExp(b,"gi"),'<span class="ui-match">$&</span>')):c}}),angular.module("ui.filters").filter("format",function(){return function(f,b){if(!f){return f}var g=f.toString(),c;return b===undefined?g:!angular.isArray(b)&&!angular.isObject(b)?g.split("$0").join(b):(c=angular.isArray(b)&&"$"||":",angular.forEach(b,function(i,h){g=g.split(c+h).join(i)}),g)}}),angular.module("ui.filters").filter("unique",function(){return function(g,c){if(c===!1){return g}if((c||angular.isUndefined(c))&&angular.isArray(g)){var h={},f=[],b=function(i){return angular.isObject(i)&&angular.isString(c)?i[c]:i};angular.forEach(g,function(k){var i,l=!1;for(var j=0;j<f.length;j++){if(angular.equals(b(f[j]),b(k))){l=!0;break}}l||f.push(k)}),g=f}return g}}),angular.module("ui.filters").filter("inflector",function(){function c(g){return g.replace(/^([a-z])|\s+([a-z])/g,function(h){return h.toUpperCase()})}function b(h,g){return h.replace(/[A-Z]/g,function(i){return g+i})}var f={humanize:function(e){return c(b(e," ").split("_").join(" "))},underscore:function(g){return g.substr(0,1).toLowerCase()+b(g.substr(1),"_").toLowerCase().split(" ").join("_")},variable:function(e){return e=e.substr(0,1).toLowerCase()+c(e.split("_").join(" ")).substr(1).split(" ").join(""),e}};return function(i,g,h){return g!==!1&&angular.isString(i)?(g=g||"humanize",f[g](i)):i}});jQuery.timeago.settings.strings={prefixAgo:"vor",prefixFromNow:"in",suffixAgo:"",suffixFromNow:"",seconds:"wenigen Sekunden",minute:"etwa einer Minute",minutes:"%d Minuten",hour:"etwa einer Stunde",hours:"%d Stunden",day:"etwa einem Tag",days:"%d Tagen",month:"etwa einem Monat",months:"%d Monaten",year:"etwa einem Jahr",years:"%d Jahren"};(function(f){f.timeago=function(i){if(i instanceof Date){return b(i)}else{if(typeof i==="string"){return b(f.timeago.parse(i))}else{if(typeof i==="number"){return b(new Date(i))}else{return b(f.timeago.datetime(i))}}}};var h=f.timeago;f.extend(f.timeago,{settings:{refreshMillis:60000,allowFuture:false,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(o){var p=this.settings.strings;var l=p.prefixAgo;var u=p.suffixAgo;if(this.settings.allowFuture){if(o<0){l=p.prefixFromNow;u=p.suffixFromNow}}var r=Math.abs(o)/1000;var i=r/60;var q=i/60;var s=q/24;var m=s/365;function k(v,x){var w=f.isFunction(v)?v(x,o):v;var y=(p.numbers&&p.numbers[x])||x;return w.replace(/%d/i,y)}var n=r<45&&k(p.seconds,Math.round(r))||r<90&&k(p.minute,1)||i<45&&k(p.minutes,Math.round(i))||i<90&&k(p.hour,1)||q<24&&k(p.hours,Math.round(q))||q<42&&k(p.day,1)||s<30&&k(p.days,Math.round(s))||s<45&&k(p.month,1)||s<365&&k(p.months,Math.round(s/30))||m<1.5&&k(p.year,1)||k(p.years,Math.round(m));var j=p.wordSeparator===undefined?" ":p.wordSeparator;return f.trim([l,n,u].join(j))},parse:function(j){var i=f.trim(j);i=i.replace(/\.\d+/,"");i=i.replace(/-/,"/").replace(/-/,"/");i=i.replace(/T/," ").replace(/Z/," UTC");i=i.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2");return new Date(i)},datetime:function(j){var i=h.isTime(j)?f(j).attr("datetime"):f(j).attr("title");return h.parse(i)},isTime:function(i){return f(i).get(0).tagName.toLowerCase()==="time"}});f.fn.timeago=function(){var j=this;j.each(e);var i=h.settings;if(i.refreshMillis>0){setInterval(function(){j.each(e)},i.refreshMillis)}return j};function e(){var i=c(this);if(!isNaN(i.datetime)){f(this).text(b(i.datetime))}return this}function c(i){i=f(i);if(!i.data("timeago")){i.data("timeago",{datetime:h.datetime(i)});var j=f.trim(i.text());if(j.length>0&&!(h.isTime(i)&&i.attr("title"))){i.attr("title",j)}}return i.data("timeago")}function b(i){return h.inWords(g(i))}function g(i){return(new Date().getTime()-i.getTime())}document.createElement("abbr");document.createElement("time")}(jQuery));angular.module("addButton",[]).directive("addButton",function(b){return function(f,e,c){if(c.addButton.length>0){caption=c.addButton}else{caption="Add"}if(c.addButtonAction&&c.addButtonAction.length>0){action=c.addButtonAction}else{action="showDlg()"}butAdd=$("<button ng-click='"+action+"'>"+caption+"</button>").button({icons:{primary:"ui-icon-plusthick"}});butAdd.css("float","right");cbut=b(butAdd)(f);child=e.parent().find(".dataTables_filter");$(child).append(cbut)}});angular.module("jqAutoComplete",[]).directive("jqAutoComplete",function(){return{require:"?ngModel",link:function(f,e,c,b){$(e).autocomplete();if(c.ngModel){e.blur(function(){return f.$apply(function(){b.$setViewValue(e.val())})})}f.$watch(c.jqAutoComplete,function(g){var h=g||null;if(h){$(e).autocomplete("option","source",f.$eval(c.jqAutoComplete))}})}}});angular.module("myTable",[]).directive("myTable",function(){return function(g,e,c){var b={};if(c.myTable.length>0){b=g.$eval(c.myTable)}else{b={bStateSave:false,iCookieDuration:2419200,bJQueryUI:true,bPaginate:false,bLengthChange:false,bFilter:true,bInfo:true,bDestroy:true,bDeferRender:true,bProcessing:true}}var f=[];e.find("th").each(function(i,j){f.push($(j).text())});if(f.length>0){b.aoColumns=f}else{if(c.aoColumns){b.aoColumns=g.$eval(c.aoColumns)}}if(c.aoColumnDefs){b.aoColumnDefs=g.$eval(c.aoColumnDefs)}if(c.fnRowCallback){b.fnRowCallback=g.$eval(c.fnRowCallback)}var h=e.dataTable(b);g.$watch(c.aaData,function(i){var j=i||null;if(j){h.fnClearTable();h.fnAddData(g.$eval(c.aaData))}})}});angular.module("jqDialog",[]).directive("jqDialog",function(){return{link:function(e,c,b){if(b.jqDialog.length>0){options=e.$eval(b.jqDialog)}else{options={modal:true}}options.autoOpen=false;options.close=function(){e.dlgState=false;e.$digest()};if(b.dlgButtons&&b.dlgButtons.length>0){options.buttons=e.$eval(b.dlgButtons)}else{options.buttons={Cancel:options.close,Save:function(){if(b.dlgAction){e.$eval(b.dlgAction)()}else{e.submitDlg()}}}}e.openDlg=function(){c.dialog("open")};e.$watch("dlgState",function(g,f){console.log("dialog status was "+f+" is now "+g);if(g){c.dialog("open")}else{c.dialog("close")}});$(c).dialog(options);e.dlgState=false}}});angular.module("jqButton",[]).directive("jqButton",["$compile",function(b){return function(f,e,c){butOptions={};if(c.jqButton.length>0){butOptions.icons={primary:"ui-icon-"+c.jqButton}}e.button(butOptions)}}]);angular.module("pdate",[]).filter("pdate",function(){return function(b,c){if(b){a=b.split(" ");d=a[0].split("-");t=a[1].split(":");return new Date(d[0],(d[1]-1),d[2],t[0],t[1],t[2])}}});angular.module("timeago",[]).filter("timeago",function(){return function(b,c){return $.timeago(b)}});angular.module("trainSite",["pdate","timeago","jqDialog","ngCookies","jqAutoComplete","jqButton"]);var TrainCtrl=function(c,i,e,h){function f(){console.log("Adding Comment "+c.curCmt.msg+" from "+c.curCmt.usr);i.post("/res/trainings/"+tid+"/comments",c.curCmt).error(function(j){console.log("Fehler: "+j)}).success(function(j){console.log("OK!");c.comments.unshift(j)})}function g(){if(!c.nameKnown()){return false}myVote=$.grep(c.votes,function(j){return j.name==e.user});if(myVote.length>0){console.dir(myVote[0]);c.curVote=myVote[0];return true}else{return false}}c.nameKnown=function(){return !(c.usrname==""||!c.usrname)};c.revote=function(){console.log("revoting to "+c.curVote.vid);console.log("Usr is |"+c.curVote.name+"| -> empty:"+(c.curVote.name==""||!c.curVote.name));if(!c.curVote.name||c.curVote.name==""){h.alert("Bitte erst Namen eingeben!")}else{c.usrname=c.curVote.name;i.post("/res/trainings/"+tid+"/votes",c.curVote).error(function(j){console.log("Fehler: "+j)}).success(function(j){console.log("OK!");b()})}};function b(){nocache=Math.random();i.get("/res/trainings/"+tid+"/votes?nocache="+nocache).success(function(j){c.votes=j;c.voted=g()})}$.ajaxSetup({cache:false});c.usrname=e.user||"";c.curVote={tid:tid,name:e.user,vid:0,vote:""};c.curCmt={msg:"",autor:e.user,tid:tid};i.get("/res/votetypes").success(function(j){c.votetypes=j});i.get("/res/trainings/"+tid+"/comments").success(function(j){c.comments=j});i.get("/res/trainings/"+tid+"/stats").success(function(j){c.stats=j});i.get("/res/users").success(function(j){c.unames=j});i.get("/res/trainings/"+tid+"/details").success(function(j){c.details=j});b();c.dlgState=false;c.submitDlg=function(){f();c.dlgState=false}};TrainCtrl.$inject=["$scope","$http","$cookies","$window"];jQuery.timeago.settings.strings={prefixAgo:"vor",prefixFromNow:"in",suffixAgo:"",suffixFromNow:"",seconds:"wenigen Sekunden",minute:"etwa einer Minute",minutes:"%d Minuten",hour:"etwa einer Stunde",hours:"%d Stunden",day:"etwa einem Tag",days:"%d Tagen",month:"etwa einem Monat",months:"%d Monaten",year:"etwa einem Jahr",years:"%d Jahren"};